<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MEMORY GAME</title>
  <link rel="stylesheet" href="css/card match.css">
</head>
<body>
  <div class="container">
    <h2>Memory Game</h2>
    <div class="game"></div>
    <button class="reset" onclick="window.location.reload();">Reset Game</button>
  </div>
  <script>
    const fruits = ["🍒","🍒","🍓","🍓","🍇","🍇","🍉","🍉","🍍","🍍","🍎","🍎","🍑","🍑","🍋","🍋"];
    let shuffle_fruits = fruits.sort(() => (Math.random()) > .5 ? 2 : -1);
    for(let i=0; i<fruits.length; i++){
      let box = document.createElement("div");
      box.className = "item";
      box.innerHTML = shuffle_fruits[i];

      box.onclick = function(){
        this.classList.add("boxOpen");
        setTimeout(function(){
          if(document.querySelectorAll(".boxOpen").length > 1){
            if(document.querySelectorAll(".boxOpen")[0].innerHTML == document.querySelectorAll(".boxOpen")[1].innerHTML){
              document.querySelectorAll(".boxOpen")[0].classList.add("boxMatch");
              document.querySelectorAll(".boxOpen")[1].classList.add("boxMatch");

              document.querySelectorAll(".boxOpen")[1].classList.remove("boxOpen");
              document.querySelectorAll(".boxOpen")[0].classList.remove("boxOpen");

              if(document.querySelectorAll(".boxMatch").length == fruits.length){
                alert("Congratulations!")
              }
            } else{
              setTimeout(function(){
                document.querySelectorAll(".boxOpen")[1].classList.remove("boxOpen");
                document.querySelectorAll(".boxOpen")[0].classList.remove("boxOpen");
              }, 700)
            }
          }
        }, 700)
      }
      document.querySelector(".game").appendChild(box);
    }
  </script>
</body>
</html>